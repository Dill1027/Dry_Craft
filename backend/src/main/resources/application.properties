spring.application.name=backend
spring.data.mongodb.uri=mongodb+srv://prabhathdilshan2001:1234@as.gp7z1.mongodb.net/socialmedia
spring.data.mongodb.database=drycraft
server.port=8081
server.address=0.0.0.0
server.error.include-message=always
server.error.include-binding-errors=always

# File upload settings
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
upload.directory=${user.home}/drycraft/uploads/
spring.mvc.servlet.load-on-startup=1

# Video upload settings
video.max.duration.seconds=30
video.allowed.types=video/mp4,video/quicktime

# GridFS settings
spring.data.mongodb.gridfs.bucket=media
spring.data.mongodb.gridfs.chunk-size=256KB

# Media settings
media.allowed-types=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/quicktime
media.cache-control=public, max-age=31536000
media.buffer-size=16384

# Logging
logging.level.org.springframework.data.mongodb.core=DEBUG
logging.level.com.example.backend=DEBUG

# Security settings
# spring.security.user.name=user
# spring.security.user.password=password

# CORS settings
spring.web.cors.allowed-origins=http://localhost:3000
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true
spring.web.cors.max-age=3600

# Static resource settings
spring.mvc.static-path-pattern=/api/**
spring.web.resources.static-locations=file:${upload.directory}
spring.web.resources.cache.period=365d

# Static resource handling
spring.mvc.static-path-pattern=/images/**
spring.web.resources.static-locations=classpath:/static/images/
spring.web.resources.cache.period=31536000